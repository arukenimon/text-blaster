var ne=Object.defineProperty;var re=(a,s,t)=>s in a?ne(a,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[s]=t;var C=(a,s,t)=>re(a,typeof s!="symbol"?s+"":s,t);import{r as ce,b as h,j as e,S as T,q as L,J as ie}from"./app-CjQiEVsG.js";import{c as w,a as le,P as M,u as oe,b as _,B as x,C as k,d as A,T as de,e as me,f as b,g as y}from"./createLucideIcon-ixH8p6kA.js";import{c as I}from"./utils-DjqsqOe8.js";import{u as D,M as ue,y as he}from"./MessageComposer-Dw19zKxJ.js";import{u as W,U as pe,R as xe}from"./RecipientSelector-B178SyDP.js";import{C as fe,A as je}from"./AnalyticsDashboard-CFKyKX1c.js";import"./table-DuCOr5p_.js";import{c as ve}from"./react-CoTwWBBe.js";import{I as F}from"./InputLabel-BldQ1BQx.js";import{I as P}from"./input-hB7bnVUj.js";import ge from"./Configuration-BaHn4p51.js";import"./index-DDHn7xd8.js";import"./InputError-Dhs5AJjV.js";import"./DangerButton-BZoplZd0.js";import"./transition-C8FP4usu.js";import"./PrimaryButton-Ds4eKgxd.js";/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Ne=w("bell",ye);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],we=w("chart-no-axes-column",be);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Ce=w("message-square",Se);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],z=w("settings",ke);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=[["path",{d:"m14.305 19.53.923-.382",key:"3m78fa"}],["path",{d:"m15.228 16.852-.923-.383",key:"npixar"}],["path",{d:"m16.852 15.228-.383-.923",key:"5xggr7"}],["path",{d:"m16.852 20.772-.383.924",key:"dpfhf9"}],["path",{d:"m19.148 15.228.383-.923",key:"1reyyz"}],["path",{d:"m19.53 21.696-.382-.924",key:"1goivc"}],["path",{d:"M2 21a8 8 0 0 1 10.434-7.62",key:"1yezr2"}],["path",{d:"m20.772 16.852.924-.383",key:"htqkph"}],["path",{d:"m20.772 19.148.924.383",key:"9w9pjp"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}]],Ee=w("user-round-cog",Ae);var E={exports:{}},R={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B;function Re(){if(B)return R;B=1;var a=ce();function s(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var t=typeof Object.is=="function"?Object.is:s,n=a.useState,i=a.useEffect,r=a.useLayoutEffect,d=a.useDebugValue;function l(c,u){var v=u(),j=n({inst:{value:v,getSnapshot:u}}),f=j[0].inst,p=j[1];return r(function(){f.value=v,f.getSnapshot=u,o(f)&&p({inst:f})},[c,v,u]),i(function(){return o(f)&&p({inst:f}),c(function(){o(f)&&p({inst:f})})},[c]),d(v),v}function o(c){var u=c.getSnapshot;c=c.value;try{var v=u();return!t(c,v)}catch{return!0}}function m(c,u){return u()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:l;return R.useSyncExternalStore=a.useSyncExternalStore!==void 0?a.useSyncExternalStore:g,R}var q;function Te(){return q||(q=1,E.exports=Re()),E.exports}var Le=Te();function _e(){return Le.useSyncExternalStore(Me,()=>!0,()=>!1)}function Me(){return()=>{}}var $="Avatar",[Ie,ns]=le($),[$e,V]=Ie($),K=h.forwardRef((a,s)=>{const{__scopeAvatar:t,...n}=a,[i,r]=h.useState("idle");return e.jsx($e,{scope:t,imageLoadingStatus:i,onImageLoadingStatusChange:r,children:e.jsx(M.span,{...n,ref:s})})});K.displayName=$;var O="AvatarImage",G=h.forwardRef((a,s)=>{const{__scopeAvatar:t,src:n,onLoadingStatusChange:i=()=>{},...r}=a,d=V(O,t),l=Ue(n,r),o=oe(m=>{i(m),d.onImageLoadingStatusChange(m)});return _(()=>{l!=="idle"&&o(l)},[l,o]),l==="loaded"?e.jsx(M.img,{...r,ref:s,src:n}):null});G.displayName=O;var J="AvatarFallback",Q=h.forwardRef((a,s)=>{const{__scopeAvatar:t,delayMs:n,...i}=a,r=V(J,t),[d,l]=h.useState(n===void 0);return h.useEffect(()=>{if(n!==void 0){const o=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(o)}},[n]),d&&r.imageLoadingStatus!=="loaded"?e.jsx(M.span,{...i,ref:s}):null});Q.displayName=J;function H(a,s){return a?s?(a.src!==s&&(a.src=s),a.complete&&a.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Ue(a,{referrerPolicy:s,crossOrigin:t}){const n=_e(),i=h.useRef(null),r=n?(i.current||(i.current=new window.Image),i.current):null,[d,l]=h.useState(()=>H(r,a));return _(()=>{l(H(r,a))},[r,a]),_(()=>{const o=c=>()=>{l(c)};if(!r)return;const m=o("loaded"),g=o("error");return r.addEventListener("load",m),r.addEventListener("error",g),s&&(r.referrerPolicy=s),typeof t=="string"&&(r.crossOrigin=t),()=>{r.removeEventListener("load",m),r.removeEventListener("error",g)}},[r,t,s]),d}var Y=K,X=G,Z=Q;const ee=h.forwardRef(({className:a,...s},t)=>e.jsx(Y,{ref:t,className:I("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...s}));ee.displayName=Y.displayName;const se=h.forwardRef(({className:a,...s},t)=>e.jsx(X,{ref:t,className:I("aspect-square h-full w-full",a),...s}));se.displayName=X.displayName;const ae=h.forwardRef(({className:a,...s},t)=>e.jsx(Z,{ref:t,className:I("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...s}));ae.displayName=Z.displayName;const te=ve(a=>({activeTab:"",setActiveTab:s=>a({activeTab:s})})),Fe=({tabActive:a="compose",templates:s,children:t})=>{const{recipients:n}=W(),{activeTab:i,setActiveTab:r}=te(),{message:d,template_:l}=D(),{setData:o}=T({recipients:n,message:""});h.useEffect(()=>{o("message",d),o("recipients",n)},[n,d]);const{flash:m}=L().props;return h.useEffect(()=>{m&&window.alert_toast(m.title,m.message,m.icon)},[m]),e.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[e.jsx("header",{className:"border-b bg-card",children:e.jsxs("div",{className:"container flex h-16 items-center justify-between px-4",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"font-bold text-xl flex items-center",children:[e.jsx("span",{className:"text-primary",children:"Auto"}),e.jsx("span",{children:"Blitz"})]})}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(x,{variant:"ghost",size:"icon",children:e.jsx(Ne,{className:"h-5 w-5"})}),e.jsx(x,{variant:"ghost",size:"icon",children:e.jsx(z,{className:"h-5 w-5"})}),e.jsxs(ee,{children:[e.jsx(se,{src:"https://api.dicebear.com/7.x/avataaars/svg?seed=admin",alt:"User"}),e.jsx(ae,{children:"AB"})]}),e.jsx(ie,{method:"POST",href:route("logout"),children:"Logout"})]})]})}),e.jsxs("div",{className:"flex flex-1",children:[e.jsx("aside",{className:"hidden md:flex w-64 flex-col border-r bg-card p-4",children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"py-2",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Menu"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs(x,{variant:i==="compose"?"secondary":"ghost",className:"w-full justify-start",onClick:()=>{r("compose")},children:[e.jsx(Ce,{className:"mr-2 h-4 w-4"}),"Compose Message"]}),e.jsxs(x,{variant:i==="recipients"?"secondary":"ghost",className:"w-full justify-start",onClick:()=>{r("recipients")},children:[e.jsx(pe,{className:"mr-2 h-4 w-4"}),"Select Recipients"]}),e.jsxs(x,{variant:i==="schedule"?"secondary":"ghost",className:"w-full justify-start",onClick:()=>r("schedule"),children:[e.jsx(fe,{className:"mr-2 h-4 w-4"}),"Schedule"]}),e.jsxs(x,{variant:i==="analytics"?"secondary":"ghost",className:"w-full justify-start",onClick:()=>r("analytics"),children:[e.jsx(we,{className:"mr-2 h-4 w-4"}),"Analytics"]}),e.jsxs(x,{variant:i==="configuration"?"secondary":"ghost",className:"w-full justify-start",onClick:()=>r("configuration"),children:[e.jsx(z,{className:"mr-2 h-4 w-4"}),"Configuration"]})]}),e.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Settings"}),e.jsxs(x,{variant:i==="accsettings"?"secondary":"ghost",className:"w-full justify-start",onClick:()=>{r("accsettings")},children:[e.jsx(Ee,{className:"mr-2 h-4 w-4"}),"Account Settings"]})]})})}),e.jsx("main",{className:"flex-1 p-6 overflow-auto",children:e.jsx("div",{className:"container mx-auto",children:t})})]})]})};var Pe="https://sms.capcom.me/api/3rdparty/v1";class ze{constructor(s,t,n,i=Pe){C(this,"baseUrl");C(this,"httpClient");C(this,"defaultHeaders");this.baseUrl=i,this.httpClient=n,this.defaultHeaders={"User-Agent":"android-sms-gateway/1.0 (client; js)",Authorization:`Basic ${btoa(`${s}:${t}`)}`}}async send(s){const t=`${this.baseUrl}/message`,n={"Content-Type":"application/json",...this.defaultHeaders};return this.httpClient.post(t,s,n)}async getState(s){const t=`${this.baseUrl}/message/${s}`,n={...this.defaultHeaders};return this.httpClient.get(t,n)}async getWebhooks(){const s=`${this.baseUrl}/webhooks`,t={...this.defaultHeaders};return this.httpClient.get(s,t)}async registerWebhook(s){const t=`${this.baseUrl}/webhooks`,n={"Content-Type":"application/json",...this.defaultHeaders};return this.httpClient.post(t,s,n)}async deleteWebhook(s){const t=`${this.baseUrl}/webhooks/${s}`,n={...this.defaultHeaders};return this.httpClient.delete(t,n)}}var Be=ze;const rs=({tabActive:a="compose",templates:s,allrecipients:t,allsegments:n=[],config:i})=>{const{activeTab:r,setActiveTab:d}=te(),{recipients:l}=W(),{message:o,template_:m}=D(),{setData:g}=T({recipients:l,message:""});h.useEffect(()=>{g("message",o),g("recipients",l)},[l,o]);const{flash:c}=L().props;h.useEffect(()=>{c&&window.alert_toast(c.title,c.message,c.icon)},[c]);const u=async()=>{try{const p=await axios.post("/services/send-sms",{message:"hiwe",phoneNumbers:["+639273630590"]});if(p.data.flash){const{icon:N,message:S,title:U}=p.data.flash;alert_toast(U,S,N)}}catch(p){console.error("Error:",p),he.error("Failed to send message")}},v={get:async(p,N)=>(await fetch(p,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa("mjgwapo:ocWFMPKc")}})).json(),post:async(p,N,S)=>(await fetch(p,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa("mjgwapo:ocWFMPKc")},body:JSON.stringify(N)})).json(),delete:async(p,N)=>(await fetch(p,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa("mjgwapo:ocWFMPKc")}})).json()};new Be("mjgwapo","ocWFMPKc",v);const{user:j}=L().props.auth,{data:f}=T({email:j==null?void 0:j.email,password:j==null?void 0:j.password});return e.jsxs(Fe,{children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Text Blaster"}),e.jsx(k,{className:"mb-6",children:e.jsx(A,{className:"p-6",children:e.jsxs(de,{value:r,onValueChange:d,className:"w-full",children:[e.jsxs(me,{className:"grid grid-cols-5 mb-6",children:[e.jsx(b,{value:"compose",children:"Compose"}),e.jsx(b,{value:"recipients",children:"Recipients"}),e.jsx(b,{value:"schedule",children:"Schedule"}),e.jsx(b,{value:"analytics",children:"Analytics"}),e.jsx(b,{value:"configuration",children:"Configuration"})]}),e.jsx(y,{value:"compose",className:"space-y-4",children:e.jsx(ue,{onNext:()=>d("recipients"),messagetemps:s})}),e.jsx(y,{value:"recipients",className:"space-y-4",children:e.jsx(xe,{onBack:()=>d("compose"),onNext:()=>d("schedule"),allrecipients:t,allsegments:n})}),e.jsx(y,{value:"schedule",className:"space-y-4",children:e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Schedule Your Message"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",id:"send-now",name:"schedule",defaultChecked:!0}),e.jsx("label",{htmlFor:"send-now",children:"Send Immediately"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",id:"schedule-later",name:"schedule",disabled:!0}),e.jsxs("label",{htmlFor:"schedule-later",children:["Schedule for Later",e.jsx("small",{className:" text-black-50",children:" (On Development...)"})]})]}),e.jsxs("div",{className:"pt-4",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Date and Time"}),e.jsx("input",{type:"datetime-local",className:"w-full p-2 border rounded-md",disabled:!0})]})]}),e.jsxs("div",{className:"bg-muted/50 p-4 rounded-md",children:[e.jsx("h3",{className:"font-medium mb-2",children:"Message Summary"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Template:"})," ",m]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Recipients:"})," ",l.length," contacts"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Estimated Cost:"})," ₱",l?(l.length*2.5).toFixed(2):0]})]})]})]}),e.jsxs("div",{className:"flex justify-between pt-6",children:[e.jsx(x,{variant:"outline",onClick:()=>d("recipients"),children:"Back"}),e.jsx(x,{onClick:()=>{u()},children:"Send Message"})]})]})}),e.jsx(y,{value:"analytics",className:"space-y-4",children:e.jsx(je,{})}),e.jsx(y,{value:"configuration",className:"space-y-4",children:e.jsx(ge,{config:i})}),e.jsx(y,{value:"accsettings",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(F,{value:"Email"}),e.jsx(P,{value:f.email,className:" w-full"})]}),e.jsxs("div",{children:[e.jsx(F,{value:"Pw"}),e.jsx(P,{value:f.password,className:" w-full"})]})]})})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(k,{children:e.jsxs(A,{className:"p-6",children:[e.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Recent Campaigns"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Summer Sale Promo"}),e.jsx("span",{className:"text-green-500 text-sm",children:"Sent"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Service Reminder"}),e.jsx("span",{className:"text-amber-500 text-sm",children:"Scheduled"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"New Inventory Alert"}),e.jsx("span",{className:"text-gray-500 text-sm",children:"Draft"})]})]})]})}),e.jsx(k,{children:e.jsxs(A,{className:"p-6",children:[e.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Message Stats"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Messages Sent (MTD)"}),e.jsx("span",{className:"font-medium",children:"1,245"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Avg. Response Rate"}),e.jsx("span",{className:"font-medium",children:"12.3%"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Active Campaigns"}),e.jsx("span",{className:"font-medium",children:"3"})]})]})]})}),e.jsx(k,{children:e.jsxs(A,{className:"p-6",children:[e.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Quick Actions"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(x,{variant:"outline",className:"w-full justify-start",children:[e.jsx("span",{className:"mr-2",children:"+"})," New Template"]}),e.jsxs(x,{variant:"outline",className:"w-full justify-start",children:[e.jsx("span",{className:"mr-2",children:"+"})," Import Contacts"]}),e.jsxs(x,{variant:"outline",className:"w-full justify-start",children:[e.jsx("span",{className:"mr-2",children:"↓"})," Export Reports"]})]})]})})]})]})};export{rs as default};
