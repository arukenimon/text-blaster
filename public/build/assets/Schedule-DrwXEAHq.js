import{r as p,j as e}from"./app-fsDHji84.js";import{A as x}from"./AdminLayout-o01hw8_n.js";import{u as h}from"./MessageComposer-D6wClMMS.js";import{u}from"./RecipientSelector-C5DX4Swf.js";import{B as r}from"./select-RKrPQWSw.js";import"./tabs-BRJPYHw0.js";import"./index-Ce96heDo.js";import"./index.es-BxVbqNES.js";import"./moment-DD0DDCTd.js";import"./input-CowZnUHa.js";import"./react-Bj2dw0a7.js";import"./InputError-CFWIaf5r.js";import"./DangerButton-qSeUa7Rw.js";import"./transition-B_O15Do_.js";import"./PrimaryButton-D_Dwyf_j.js";function F({}){const{message:i,template_:d}=h(),{recipients:t}=u(),[o,l]=p.useState(!1),c=async()=>{try{l(!0);const s=await axios.post("/services/send-sms",{message:i,phoneNumbers:t.map(a=>a.phone),recipients:t});if(s.data.flash){const{icon:a,message:n,title:m}=s.data.flash;alert_toast(m,n,a)}console.log(s)}catch(s){console.error("Error:",s),toast.error("Failed to send message")}finally{l(!1),router.reload({only:["messages"]})}};return e.jsx(x,{tabActive:"schedule",children:e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Schedule Your Message"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",id:"send-now",name:"schedule",defaultChecked:!0}),e.jsx("label",{htmlFor:"send-now",children:"Send Immediately"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",id:"schedule-later",name:"schedule",disabled:!0}),e.jsxs("label",{htmlFor:"schedule-later",children:["Schedule for Later",e.jsx("small",{className:" text-black-50",children:" (On Development...)"})]})]}),e.jsxs("div",{className:"pt-4",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Date and Time"}),e.jsx("input",{type:"datetime-local",className:"w-full p-2 border rounded-md",disabled:!0})]})]}),e.jsxs("div",{className:"bg-muted/50 p-4 rounded-md",children:[e.jsx("h3",{className:"font-medium mb-2",children:"Message Summary"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Template:"})," ",d]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Recipients:"})," ",t.length," ","contacts"]})]})]})]}),e.jsxs("div",{className:"flex justify-between pt-6",children:[e.jsx(r,{variant:"outline",children:"Back"}),e.jsx(r,{onClick:()=>{c()},disabled:o,children:"Send Message"})]})]})})}export{F as default};
