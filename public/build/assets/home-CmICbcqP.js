var be=Object.defineProperty;var Se=(a,s,t)=>s in a?be(a,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[s]=t;var k=(a,s,t)=>Se(a,typeof s!="symbol"?s+"":s,t);import{r as Ce,b as h,j as e,S as T,q as D,J as ke,f as H}from"./app-SN0J8WrQ.js";import{c as Ae,P as U,u as Ee,a as F,b as B,T as _e,d as Le,e as b,f as N}from"./tabs-H9AMHO2_.js";import{c as S,B as p,C as A,a as E}from"./createLucideIcon-CrbN99r-.js";import{u as Q,M as Te,y as Re}from"./MessageComposer-Cp2ievfr.js";import{u as Y,U as Me,R as Pe}from"./RecipientSelector-ZdJXQXtJ.js";import{C as Ie,A as $e}from"./AnalyticsDashboard-D84zvejU.js";import"./index.es-BJSfmx6S.js";import{c as De}from"./react-WOfgqtVD.js";import{I as _}from"./InputLabel-DpQNywp0.js";import{I as L}from"./input-CDumWSG2.js";import{C as Fe,P as W}from"./Configuration-DRaOmZqD.js";import{P as V}from"./PrimaryButton-D3FGkPRL.js";import"./index-Bftqazai.js";import"./InputError-syEDu9uO.js";import"./DangerButton-3khPem1H.js";import"./transition-Z-TuIMYJ.js";/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Be=S("bell",Ue);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],qe=S("chart-no-axes-column",ze);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],We=S("message-square",He);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],K=S("settings",Ve);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=[["path",{d:"m14.305 19.53.923-.382",key:"3m78fa"}],["path",{d:"m15.228 16.852-.923-.383",key:"npixar"}],["path",{d:"m16.852 15.228-.383-.923",key:"5xggr7"}],["path",{d:"m16.852 20.772-.383.924",key:"dpfhf9"}],["path",{d:"m19.148 15.228.383-.923",key:"1reyyz"}],["path",{d:"m19.53 21.696-.382-.924",key:"1goivc"}],["path",{d:"M2 21a8 8 0 0 1 10.434-7.62",key:"1yezr2"}],["path",{d:"m20.772 16.852.924-.383",key:"htqkph"}],["path",{d:"m20.772 19.148.924.383",key:"9w9pjp"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}]],Oe=S("user-round-cog",Ke);var I={exports:{}},$={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O;function Ge(){if(O)return $;O=1;var a=Ce();function s(o,d){return o===d&&(o!==0||1/o===1/d)||o!==o&&d!==d}var t=typeof Object.is=="function"?Object.is:s,r=a.useState,l=a.useEffect,n=a.useLayoutEffect,x=a.useDebugValue;function m(o,d){var j=d(),y=r({inst:{value:j,getSnapshot:d}}),f=y[0].inst,w=y[1];return n(function(){f.value=j,f.getSnapshot=d,c(f)&&w({inst:f})},[o,j,d]),l(function(){return c(f)&&w({inst:f}),o(function(){c(f)&&w({inst:f})})},[o]),x(j),j}function c(o){var d=o.getSnapshot;o=o.value;try{var j=d();return!t(o,j)}catch{return!0}}function u(o,d){return d()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:m;return $.useSyncExternalStore=a.useSyncExternalStore!==void 0?a.useSyncExternalStore:g,$}var G;function Je(){return G||(G=1,I.exports=Ge()),I.exports}var Qe=Je();function Ye(){return Qe.useSyncExternalStore(Xe,()=>!0,()=>!1)}function Xe(){return()=>{}}var z="Avatar",[Ze,bs]=Ae(z),[es,X]=Ze(z),Z=h.forwardRef((a,s)=>{const{__scopeAvatar:t,...r}=a,[l,n]=h.useState("idle");return e.jsx(es,{scope:t,imageLoadingStatus:l,onImageLoadingStatusChange:n,children:e.jsx(U.span,{...r,ref:s})})});Z.displayName=z;var ee="AvatarImage",se=h.forwardRef((a,s)=>{const{__scopeAvatar:t,src:r,onLoadingStatusChange:l=()=>{},...n}=a,x=X(ee,t),m=ss(r,n),c=Ee(u=>{l(u),x.onImageLoadingStatusChange(u)});return F(()=>{m!=="idle"&&c(m)},[m,c]),m==="loaded"?e.jsx(U.img,{...n,ref:s,src:r}):null});se.displayName=ee;var ae="AvatarFallback",te=h.forwardRef((a,s)=>{const{__scopeAvatar:t,delayMs:r,...l}=a,n=X(ae,t),[x,m]=h.useState(r===void 0);return h.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>m(!0),r);return()=>window.clearTimeout(c)}},[r]),x&&n.imageLoadingStatus!=="loaded"?e.jsx(U.span,{...l,ref:s}):null});te.displayName=ae;function J(a,s){return a?s?(a.src!==s&&(a.src=s),a.complete&&a.naturalWidth>0?"loaded":"loading"):"error":"idle"}function ss(a,{referrerPolicy:s,crossOrigin:t}){const r=Ye(),l=h.useRef(null),n=r?(l.current||(l.current=new window.Image),l.current):null,[x,m]=h.useState(()=>J(n,a));return F(()=>{m(J(n,a))},[n,a]),F(()=>{const c=o=>()=>{m(o)};if(!n)return;const u=c("loaded"),g=c("error");return n.addEventListener("load",u),n.addEventListener("error",g),s&&(n.referrerPolicy=s),typeof t=="string"&&(n.crossOrigin=t),()=>{n.removeEventListener("load",u),n.removeEventListener("error",g)}},[n,t,s]),x}var re=Z,ne=se,ie=te;const le=h.forwardRef(({className:a,...s},t)=>e.jsx(re,{ref:t,className:B("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...s}));le.displayName=re.displayName;const ce=h.forwardRef(({className:a,...s},t)=>e.jsx(ne,{ref:t,className:B("aspect-square h-full w-full",a),...s}));ce.displayName=ne.displayName;const oe=h.forwardRef(({className:a,...s},t)=>e.jsx(ie,{ref:t,className:B("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...s}));oe.displayName=ie.displayName;const de=De(a=>({activeTab:"",setActiveTab:s=>a({activeTab:s})})),as=({tabActive:a="compose",templates:s,children:t})=>{const{recipients:r}=Y(),{activeTab:l,setActiveTab:n}=de(),{message:x,template_:m}=Q(),{setData:c}=T({recipients:r,message:""});h.useEffect(()=>{c("message",x),c("recipients",r)},[r,x]);const{flash:u}=D().props;return h.useEffect(()=>{u&&window.alert_toast(u.title,u.message,u.icon)},[u]),e.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[e.jsx("header",{className:"border-b bg-card",children:e.jsxs("div",{className:"container flex h-16 items-center justify-between px-4",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"font-bold text-xl flex items-center",children:[e.jsx("span",{className:"text-primary",children:"Auto"}),e.jsx("span",{children:"Blitz"})]})}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(p,{variant:"ghost",size:"icon",children:e.jsx(Be,{className:"h-5 w-5"})}),e.jsx(p,{variant:"ghost",size:"icon",children:e.jsx(K,{className:"h-5 w-5"})}),e.jsxs(le,{children:[e.jsx(ce,{src:"https://api.dicebear.com/7.x/avataaars/svg?seed=admin",alt:"User"}),e.jsx(oe,{children:"AB"})]}),e.jsx(ke,{method:"POST",href:route("logout"),children:"Logout"})]})]})}),e.jsxs("div",{className:"flex flex-1",children:[e.jsx("aside",{className:"hidden md:flex w-64 flex-col border-r bg-card p-4",children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"py-2",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Menu"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs(p,{variant:l==="compose"?"secondary":"ghost",className:"w-full justify-start",onClick:()=>{n("compose")},children:[e.jsx(We,{className:"mr-2 h-4 w-4"}),"Compose Message"]}),e.jsxs(p,{variant:l==="recipients"?"secondary":"ghost",className:"w-full justify-start",onClick:()=>{n("recipients")},children:[e.jsx(Me,{className:"mr-2 h-4 w-4"}),"Select Recipients"]}),e.jsxs(p,{variant:l==="schedule"?"secondary":"ghost",className:"w-full justify-start",onClick:()=>n("schedule"),children:[e.jsx(Ie,{className:"mr-2 h-4 w-4"}),"Schedule"]}),e.jsxs(p,{variant:l==="analytics"?"secondary":"ghost",className:"w-full justify-start",onClick:()=>n("analytics"),children:[e.jsx(qe,{className:"mr-2 h-4 w-4"}),"Analytics"]}),e.jsxs(p,{variant:l==="configuration"?"secondary":"ghost",className:"w-full justify-start",onClick:()=>n("configuration"),children:[e.jsx(K,{className:"mr-2 h-4 w-4"}),"Configuration"]})]}),e.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Settings"}),e.jsxs(p,{variant:l==="accsettings"?"secondary":"ghost",className:"w-full justify-start",onClick:()=>{n("accsettings")},children:[e.jsx(Oe,{className:"mr-2 h-4 w-4"}),"Account Settings"]})]})})}),e.jsx("main",{className:"flex-1 p-6 overflow-auto",children:e.jsx("div",{className:"container mx-auto",children:t})})]})]})};var ts="https://sms.capcom.me/api/3rdparty/v1";class rs{constructor(s,t,r,l=ts){k(this,"baseUrl");k(this,"httpClient");k(this,"defaultHeaders");this.baseUrl=l,this.httpClient=r,this.defaultHeaders={"User-Agent":"android-sms-gateway/1.0 (client; js)",Authorization:`Basic ${btoa(`${s}:${t}`)}`}}async send(s){const t=`${this.baseUrl}/message`,r={"Content-Type":"application/json",...this.defaultHeaders};return this.httpClient.post(t,s,r)}async getState(s){const t=`${this.baseUrl}/message/${s}`,r={...this.defaultHeaders};return this.httpClient.get(t,r)}async getWebhooks(){const s=`${this.baseUrl}/webhooks`,t={...this.defaultHeaders};return this.httpClient.get(s,t)}async registerWebhook(s){const t=`${this.baseUrl}/webhooks`,r={"Content-Type":"application/json",...this.defaultHeaders};return this.httpClient.post(t,s,r)}async deleteWebhook(s){const t=`${this.baseUrl}/webhooks/${s}`,r={...this.defaultHeaders};return this.httpClient.delete(t,r)}}var ns=rs;const Ss=({tabActive:a="compose",templates:s,allrecipients:t,allsegments:r=[],config:l,cloudconfig:n})=>{const{activeTab:x,setActiveTab:m}=de(),{recipients:c}=Y(),{message:u,template_:g}=Q(),{setData:o}=T({recipients:c,message:""});h.useEffect(()=>{o("message",u),o("recipients",c),c&&console.log("recipients:",c)},[c,u]);const{flash:d}=D().props;h.useEffect(()=>{d&&window.alert_toast(d.title,d.message,d.icon)},[d]);const[j,y]=h.useState(!1),f=async()=>{try{y(!0);const i=await axios.post("/services/send-sms",{message:u,phoneNumbers:c.map(v=>v.phone)});if(i.data.flash){const{icon:v,message:C,title:q}=i.data.flash;alert_toast(q,C,v)}console.log(i)}catch(i){console.error("Error:",i),Re.error("Failed to send message")}finally{y(!1)}},w={get:async(i,v)=>(await fetch(i,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa("mjgwapo:ocWFMPKc")}})).json(),post:async(i,v,C)=>(await fetch(i,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa("mjgwapo:ocWFMPKc")},body:JSON.stringify(v)})).json(),delete:async(i,v)=>(await fetch(i,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Basic "+btoa("mjgwapo:ocWFMPKc")}})).json()};new ns("mjgwapo","ocWFMPKc",w);const{user:R}=D().props.auth,{data:M,setData:P,errors:me,processing:ue,put:he,clearErrors:pe,reset:xe}=T({current_password:"",password:"",confirmpw:""}),fe=i=>{i.preventDefault(),he(route("admin.settings.password.update"),{onSuccess:()=>{pe(),xe()},onFinish:()=>{H.reload({only:["flash","auth"]})}})},{data:je,setData:ve,errors:ge,processing:ye,put:Ne}=T({email:R==null?void 0:R.email}),we=i=>{i.preventDefault(),Ne(route("admin.settings.email.update"),{onFinish:()=>{H.reload({only:["flash","auth"]})}})};return e.jsxs(as,{children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Text Blaster"}),e.jsx(A,{className:"mb-6",children:e.jsx(E,{className:"p-6",children:e.jsxs(_e,{value:x,onValueChange:m,className:"w-full",children:[e.jsxs(Le,{className:"grid grid-cols-5 mb-6",children:[e.jsx(b,{value:"compose",children:"Compose"}),e.jsx(b,{value:"recipients",children:"Recipients"}),e.jsx(b,{value:"schedule",children:"Schedule"}),e.jsx(b,{value:"analytics",children:"Analytics"}),e.jsx(b,{value:"configuration",children:"Configuration"})]}),e.jsx(N,{value:"compose",className:"space-y-4",children:e.jsx(Te,{onNext:()=>m("recipients"),messagetemps:s})}),e.jsx(N,{value:"recipients",className:"space-y-4",children:e.jsx(Pe,{onBack:()=>m("compose"),onNext:()=>m("schedule"),allrecipients:t,allsegments:r})}),e.jsx(N,{value:"schedule",className:"space-y-4",children:e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Schedule Your Message"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",id:"send-now",name:"schedule",defaultChecked:!0}),e.jsx("label",{htmlFor:"send-now",children:"Send Immediately"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",id:"schedule-later",name:"schedule",disabled:!0}),e.jsxs("label",{htmlFor:"schedule-later",children:["Schedule for Later",e.jsx("small",{className:" text-black-50",children:" (On Development...)"})]})]}),e.jsxs("div",{className:"pt-4",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Date and Time"}),e.jsx("input",{type:"datetime-local",className:"w-full p-2 border rounded-md",disabled:!0})]})]}),e.jsxs("div",{className:"bg-muted/50 p-4 rounded-md",children:[e.jsx("h3",{className:"font-medium mb-2",children:"Message Summary"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Template:"})," ",g]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Recipients:"})," ",c.length," contacts"]})]})]})]}),e.jsxs("div",{className:"flex justify-between pt-6",children:[e.jsx(p,{variant:"outline",onClick:()=>m("recipients"),children:"Back"}),e.jsx(p,{onClick:()=>{f()},disabled:j,children:"Send Message"})]})]})}),e.jsx(N,{value:"analytics",className:"space-y-4",children:e.jsx($e,{})}),e.jsx(N,{value:"configuration",className:"space-y-4",children:e.jsx(Fe,{config:l,cloudconfig:n})}),e.jsxs(N,{value:"accsettings",className:"space-y-4 w-1/2",children:[e.jsx(W,{errors:ge}),e.jsx("h3",{children:"Change your email here"}),e.jsxs("div",{children:[e.jsx(_,{value:"Email"}),e.jsx(L,{value:je.email,className:" w-full",onChange:i=>ve("email",i.target.value)})]}),e.jsx(V,{disabled:ye,onClick:we,children:"Save New Email"}),e.jsxs("div",{children:[e.jsx(W,{errors:me}),e.jsxs("div",{className:" grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(_,{value:"Current Password"}),e.jsx(L,{value:M.current_password,className:" w-full",type:"password",onChange:i=>P("current_password",i.target.value)})]}),e.jsxs("div",{children:[e.jsx(_,{value:"New Password"}),e.jsx(L,{value:M.password,className:" w-full",type:"password",onChange:i=>P("password",i.target.value)})]})]}),e.jsxs("div",{children:[e.jsx(_,{value:"Confirm Password"}),e.jsx(L,{value:M.confirmpw,className:" w-full",type:"password",onChange:i=>P("confirmpw",i.target.value)})]})]}),e.jsx(V,{disabled:ue,onClick:fe,children:"Save new password"})]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(A,{children:e.jsxs(E,{className:"p-6",children:[e.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Recent Campaigns"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Summer Sale Promo"}),e.jsx("span",{className:"text-green-500 text-sm",children:"Sent"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Service Reminder"}),e.jsx("span",{className:"text-amber-500 text-sm",children:"Scheduled"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"New Inventory Alert"}),e.jsx("span",{className:"text-gray-500 text-sm",children:"Draft"})]})]})]})}),e.jsx(A,{children:e.jsxs(E,{className:"p-6",children:[e.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Message Stats"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Messages Sent (MTD)"}),e.jsx("span",{className:"font-medium",children:"0"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Active Campaigns"}),e.jsx("span",{className:"font-medium",children:"0"})]})]})]})}),e.jsx(A,{children:e.jsxs(E,{className:"p-6",children:[e.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Quick Actions"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(p,{variant:"outline",className:"w-full justify-start",children:[e.jsx("span",{className:"mr-2",children:"+"})," New Template"]}),e.jsxs(p,{variant:"outline",className:"w-full justify-start",children:[e.jsx("span",{className:"mr-2",children:"+"})," Import Contacts"]}),e.jsxs(p,{variant:"outline",className:"w-full justify-start",children:[e.jsx("span",{className:"mr-2",children:"↓"})," Export Reports"]})]})]})})]})]})};export{Ss as default};
