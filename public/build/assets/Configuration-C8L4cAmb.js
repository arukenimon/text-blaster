import{r as u,S as x,j as s,f as h}from"./app-fsDHji84.js";import{I as o}from"./input-CowZnUHa.js";import{T as k,a as D,b as v,c as j}from"./tabs-BRJPYHw0.js";import{I as m}from"./InputLabel-DIB2tpb0.js";import{P as i}from"./PrimaryButton-D_Dwyf_j.js";import{P as b}from"./PrintErrors-iLojis5S.js";import"./index-Ce96heDo.js";function U({config:e,cloudconfig:r}){const[a,w]=u.useState("local"),{data:t,setData:n,post:C,processing:c,errors:p,clearErrors:S}=x({localaddr:e.localaddress??"",port:e.port,user:a=="local"?(e==null?void 0:e.username)??"":a=="cloud"?(r==null?void 0:r.username)??"":"",pw:a=="local"?(e==null?void 0:e.password)??"":a=="cloud"?(r==null?void 0:r.password)??"":"",type:a,simslot:a=="local"?e==null?void 0:e.simslot:""});u.useEffect(()=>{n({...t,user:a=="local"?e.username??"":a=="cloud"?(r==null?void 0:r.username)??"":"",pw:a=="local"?e.password??"":a=="cloud"?(r==null?void 0:r.password)??"":"",type:a=="local"?"local":"cloud",simslot:a=="local"?e==null?void 0:e.simslot:""})},[a]);const d=l=>{l.preventDefault(),n(l.target.name,l.target.value)},y=l=>{l.preventDefault(),C(route("admin.settings.saveconfig"),{onFinish:()=>{h.reload({only:["flash"]})}})},T=l=>{w(l),S()},{post:P}=x({}),N=l=>{l.preventDefault(),P(route("admin.settings.webhook.setup"),{onFinish:()=>{h.reload({only:["flash"]})}})};return s.jsxs("form",{onSubmit:y,className:" xl:w-3/4",children:[s.jsxs(k,{value:a,onValueChange:T,className:" w-full",children:[s.jsxs(D,{children:[s.jsx(v,{value:"local",children:"Local Host"}),s.jsx(v,{value:"cloud",children:"Server"})]}),s.jsxs(j,{value:"local",children:[s.jsx(b,{errors:p}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 mt-2",children:[s.jsxs("div",{children:[s.jsx(m,{value:"Local Address"}),s.jsx(o,{value:t.localaddr,name:"localaddr",onChange:d})]}),s.jsxs("div",{children:[s.jsx(m,{value:"Port"}),s.jsx(o,{value:t.port,name:"port",onChange:d})]}),s.jsxs("div",{children:[s.jsx(m,{value:"Sim Slot"}),s.jsx(o,{type:"number",step:"1",value:t.simslot,name:"simslot",onChange:d})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mt-2",children:[s.jsxs("div",{children:[s.jsx(m,{value:"Username"}),s.jsx(o,{value:t.user,name:"user",onChange:d})]}),s.jsxs("div",{children:[s.jsx(m,{value:"Password"}),s.jsx(o,{type:"password",value:t.pw,name:"pw",onChange:d})]})]})]}),s.jsxs(j,{value:"cloud",children:[s.jsx(b,{errors:p}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mt-2",children:[s.jsxs("div",{children:[s.jsx(m,{value:"Username"}),s.jsx(o,{name:"user",onChange:d,value:t.user})]}),s.jsxs("div",{children:[s.jsx(m,{value:"Password"}),s.jsx(o,{name:"pw",onChange:d,value:t.pw,type:"password"})]})]})]})]}),s.jsx(i,{className:"mt-3",disabled:c,children:"Save"}),s.jsx(i,{onClick:N,children:"Setup Webhook"})]})}export{U as default};
