import{j as e,b as i,S as N,f as y}from"./app-BmvNOqpC.js";import{I as n}from"./input-CF19sV2Z.js";import{T as S,d as T,e as j,f as u}from"./tabs-DVpS6bB1.js";import{I as m}from"./InputLabel-DnsOJSzx.js";import{P as L}from"./PrimaryButton-DkgvIimQ.js";function p({errors:r}){return e.jsx(e.Fragment,{children:Object.keys(r).length>0&&e.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 rounded-md",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("ul",{className:"text-sm text-red-600",children:Object.entries(r).map(([s,a])=>e.jsx("li",{children:a},s))})})]})})})}function P({config:r,cloudconfig:s}){const[a,v]=i.useState("local"),{data:l,setData:x,post:h,processing:c,errors:o,clearErrors:w}=N({localaddr:r.localaddress??"",port:r.port,user:a=="local"?(r==null?void 0:r.username)??"":a=="cloud"?(s==null?void 0:s.username)??"":"",pw:a=="local"?(r==null?void 0:r.password)??"":a=="cloud"?(s==null?void 0:s.password)??"":"",type:a});i.useEffect(()=>{x({...l,user:a=="local"?r.username??"":a=="cloud"?(s==null?void 0:s.username)??"":"",pw:a=="local"?r.password??"":a=="cloud"?(s==null?void 0:s.password)??"":"",type:a=="local"?"local":"cloud"})},[a]);const d=t=>{t.preventDefault(),x(t.target.name,t.target.value)},b=t=>{t.preventDefault(),h(route("admin.settings.saveconfig"),{onFinish:()=>{y.reload({only:["flash"]})}})},C=t=>{v(t),w()};return e.jsxs("form",{onSubmit:b,className:" xl:w-3/4",children:[e.jsxs(S,{value:a,onValueChange:C,className:" w-full",children:[e.jsxs(T,{children:[e.jsx(j,{value:"local",children:"Local Host"}),e.jsx(j,{value:"cloud",children:"Server"})]}),e.jsxs(u,{value:"local",children:[e.jsx(p,{errors:o}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mt-2",children:[e.jsxs("div",{children:[e.jsx(m,{value:"Local Address"}),e.jsx(n,{value:l.localaddr,name:"localaddr",onChange:d})]}),e.jsxs("div",{children:[e.jsx(m,{value:"Port"}),e.jsx(n,{value:l.port,name:"port",onChange:d})]}),e.jsxs("div",{children:[e.jsx(m,{value:"Username"}),e.jsx(n,{value:l.user,name:"user",onChange:d})]}),e.jsxs("div",{children:[e.jsx(m,{value:"Password"}),e.jsx(n,{type:"password",value:l.pw,name:"pw",onChange:d})]})]})]}),e.jsxs(u,{value:"cloud",children:[e.jsx(p,{errors:o}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mt-2",children:[e.jsxs("div",{children:[e.jsx(m,{value:"Username"}),e.jsx(n,{name:"user",onChange:d,value:l.user})]}),e.jsxs("div",{children:[e.jsx(m,{value:"Password"}),e.jsx(n,{name:"pw",onChange:d,value:l.pw,type:"password"})]})]})]})]}),e.jsx(L,{className:"mt-3",disabled:c,children:"Save"})]})}const z=Object.freeze(Object.defineProperty({__proto__:null,default:P},Symbol.toStringTag,{value:"Module"}));export{P as C,p as P,z as a};
