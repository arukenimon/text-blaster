import{j as e,b as x,S as p,f as u}from"./app-D-JMcqi1.js";import{I as d}from"./input-D8z7VzOL.js";import{T as P,d as k,e as h,f as j}from"./tabs-BW14tw-L.js";import{I as o}from"./InputLabel-D9j9IBpU.js";import{P as v}from"./PrimaryButton-DxPi8-xS.js";function c({errors:r}){return e.jsx(e.Fragment,{children:Object.keys(r).length>0&&e.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 rounded-md",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("ul",{className:"text-sm text-red-600",children:Object.entries(r).map(([s,a])=>e.jsx("li",{children:a},s))})})]})})})}function g({config:r,cloudconfig:s}){const[a,b]=x.useState("local"),{data:t,setData:i,post:w,processing:C,errors:m,clearErrors:N}=p({localaddr:r.localaddress??"",port:r.port,user:a=="local"?(r==null?void 0:r.username)??"":a=="cloud"?(s==null?void 0:s.username)??"":"",pw:a=="local"?(r==null?void 0:r.password)??"":a=="cloud"?(s==null?void 0:s.password)??"":"",type:a});x.useEffect(()=>{i({...t,user:a=="local"?r.username??"":a=="cloud"?(s==null?void 0:s.username)??"":"",pw:a=="local"?r.password??"":a=="cloud"?(s==null?void 0:s.password)??"":"",type:a=="local"?"local":"cloud"})},[a]);const n=l=>{l.preventDefault(),i(l.target.name,l.target.value)},y=l=>{l.preventDefault(),w(route("admin.settings.saveconfig"),{onFinish:()=>{u.reload({only:["flash"]})}})},S=l=>{b(l),N()},{post:T}=p({}),L=l=>{l.preventDefault(),T(route("admin.settings.webhook.setup"),{onFinish:()=>{u.reload({only:["flash"]})}})};return e.jsxs("form",{onSubmit:y,className:" xl:w-3/4",children:[e.jsxs(P,{value:a,onValueChange:S,className:" w-full",children:[e.jsxs(k,{children:[e.jsx(h,{value:"local",children:"Local Host"}),e.jsx(h,{value:"cloud",children:"Server"})]}),e.jsxs(j,{value:"local",children:[e.jsx(c,{errors:m}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mt-2",children:[e.jsxs("div",{children:[e.jsx(o,{value:"Local Address"}),e.jsx(d,{value:t.localaddr,name:"localaddr",onChange:n})]}),e.jsxs("div",{children:[e.jsx(o,{value:"Port"}),e.jsx(d,{value:t.port,name:"port",onChange:n})]}),e.jsxs("div",{children:[e.jsx(o,{value:"Username"}),e.jsx(d,{value:t.user,name:"user",onChange:n})]}),e.jsxs("div",{children:[e.jsx(o,{value:"Password"}),e.jsx(d,{type:"password",value:t.pw,name:"pw",onChange:n})]})]})]}),e.jsxs(j,{value:"cloud",children:[e.jsx(c,{errors:m}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mt-2",children:[e.jsxs("div",{children:[e.jsx(o,{value:"Username"}),e.jsx(d,{name:"user",onChange:n,value:t.user})]}),e.jsxs("div",{children:[e.jsx(o,{value:"Password"}),e.jsx(d,{name:"pw",onChange:n,value:t.pw,type:"password"})]})]})]})]}),e.jsx(v,{className:"mt-3",disabled:C,children:"Save"}),e.jsx(v,{onClick:L,children:"Setup Webhook"})]})}const z=Object.freeze(Object.defineProperty({__proto__:null,default:g},Symbol.toStringTag,{value:"Module"}));export{g as C,c as P,z as a};
